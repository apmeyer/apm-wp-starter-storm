{"version":3,"names":["scroll","window","requestAnimationFrame","elementsToShow","document","querySelectorAll","animationActionClass","loop","watchForScrollToTop","compressOrDecompressLayout","watchForAnimationElements","forEach","element","isElementInViewport","classList","contains","add","rect","getBoundingClientRect","top","bottom","innerHeight","documentElement","clientHeight","scrollY","body","remove","showAllAnimationElements","api","mobileMenuButton","getElementById","mobileMenuWrap","menuItems","breakpoint","isTransitioning","onHeaderResize","subMenus","innerWidth","submenu","removeAttribute","style","maxHeight","scrollHeight","hideMobileMenu","setAttribute","setTimeout","addMobileSubmenuButtons","item","menuItemId","getAttribute","a","querySelector","subMenu","subMenuId","button","createElement","after","showDesktopSubmenu","timer","clearTimeout","addEventListeners","exitActions","addEventListener","event","preventDefault","key","relatedTarget","action","hideDesktopSubmenu","mobileSubmenuButtons","menuId","menu","previousSibling","display","ResizeObserver","observe","siteHeader"],"sources":["../../src/js/modules/_scroll.js","../../src/js/modules/_site-header.js","../../src/js/theme.js"],"sourcesContent":["let scroll = window.requestAnimationFrame\n\nconst elementsToShow = document.querySelectorAll( '.animate' )\nconst animationActionClass = 'animated'\nconst compressHeaderAt = 300\n\nconst init = function() {\n    if ( window.requestAnimationFrame ) {\n        loop()\n    } else {\n        showAllAnimationElements()\n    }\n}\n\n\nconst loop = function() {\n    watchForScrollToTop()\n    compressOrDecompressLayout()\n    watchForAnimationElements()\n    scroll( loop )\n};\n\n\nconst watchForAnimationElements = function() {\n    elementsToShow.forEach( ( element ) => {\n        if ( isElementInViewport( element ) ) {\n            if ( element.classList.contains( animationActionClass ) ) return\n            element.classList.add( animationActionClass );\n        }\n    });\n}\n\n\nconst isElementInViewport = function( element ) {\n\n    const rect = element.getBoundingClientRect()\n\n    return (\n        ( rect.top <= 0 && rect.bottom >= 0 )\n        ||\n        ( rect.bottom >= ( window.innerHeight || document.documentElement.clientHeight ) && rect.top <= ( window.innerHeight || document.documentElement.clientHeight ) )\n        ||\n        ( rect.top >= 0 && rect.bottom <= ( window.innerHeight || document.documentElement.clientHeight ) )\n    );\n\n};\n\n\nconst watchForScrollToTop = function() {\n\n    if ( window.scrollY <= 0 ) {\n        document.body.classList.add('is-at-top')\n    } else {\n        document.body.classList.remove('is-at-top')\n    }\n\n}\n\n\nconst compressOrDecompressLayout = function() {\n\n    if ( window.scrollY >= compressHeaderAt ) {\n        document.body.classList.add( 'is-compressed' )\n    } else {\n        document.body.classList.remove( 'is-compressed' )\n    }\n\n}\n\n\nconst showAllAnimationElements = function() {\n\n    elementsToShow.forEach( element => { element.classList.add( animationActionClass ) } )\n\n}\n\n\nconst api = {\n    init: init\n}\n\nexport default api;\n","const mobileMenuButton  = document.getElementById( 'mobileMenuButton' )\nconst mobileMenuWrap    = document.getElementById( 'mobileMenuWrap' )\nconst siteNav           = document.getElementById( 'siteNav' )\nconst menuItems         = document.querySelectorAll( '.main-menu li.menu-item-has-children' )\nconst breakpoint        = 950\nconst devMode           = true\nlet isTransitioning     = false\n\n\nconst init = function() {\n\n    if ( mobileMenuButton && mobileMenuWrap ) {\n        addMobileSubmenuButtons()\n        addEventListeners()\n    }\n\n    const headerResizeObserver = new ResizeObserver( onHeaderResize )\n    headerResizeObserver.observe( document.querySelector( '.site-header-wrap' ) );\n\n}\n\n\nconst onHeaderResize = function() {\n\n    const subMenus = document.querySelectorAll('.sub-menu')\n\n    if ( window.innerWidth >= breakpoint ) {\n        subMenus.forEach( submenu => {\n            submenu.removeAttribute('style')\n        } )\n    } else {\n        subMenus.forEach( submenu => {\n            submenu.style.maxHeight = submenu.scrollHeight + \"px\"\n        } )\n    }\n\n}\n\n\nconst displayMobileMenu = function() {\n    mobileMenuWrap.classList.add('is-block')\n    mobileMenuButton.setAttribute( 'aria-expanded', 'true' )\n    setTimeout( () => {\n        mobileMenuWrap.classList.add('transition-in')\n    }, 5 )\n}\n\n\nconst hideMobileMenu = function() {\n    mobileMenuWrap.classList.remove('transition-in')\n    mobileMenuButton.setAttribute( 'aria-expanded', 'false' )\n    setTimeout( () => {\n        mobileMenuWrap.classList.remove('is-block')\n    }, 250 )\n}\n\n\nconst addMobileSubmenuButtons = function() {\n\n    menuItems.forEach( item => {\n\n        const menuItemId = item.getAttribute( 'id' )\n        const a = item.querySelector( 'a' )\n        const subMenu = item.querySelector( '.sub-menu' )\n        const subMenuId = menuItemId + '_submenu';\n\n        a.setAttribute( 'aria-expanded', 'false' )\n        subMenu.setAttribute( 'id', subMenuId )\n\n        const button = document.createElement('button')\n        button.setAttribute( 'aria-controls', subMenuId );\n        button.setAttribute( 'aria-expanded', 'false' )\n        button.setAttribute( 'class', 'mobile-submenu-button' )\n\n        a.after( button )\n\n    } )\n\n}\n\n\nconst hideAllSubmenusOnDesktop = function() {\n    if ( window.innerWidth >= breakpoint ) {\n        menuItems.forEach( item => {\n            item.classList.remove( 'is-ready-to-transition' )\n            item.querySelector( 'a' ).setAttribute( 'aria-expanded', 'false' )\n        } )\n    }\n}\n\n\nconst showDesktopSubmenu = function( item, timer ) {\n    if ( window.innerWidth >= breakpoint ) {\n        clearTimeout( timer )\n        hideAllSubmenusOnDesktop()\n        item.querySelector( 'a' ).setAttribute( 'aria-expanded', 'true' )\n    }\n}\n\n\nconst hideDesktopSubmenu = function( item ) {\n    item.querySelector( 'a' ).setAttribute( 'aria-expanded', 'false' )\n}\n\n\nconst addEventListeners = function() {\n\n    if ( !mobileMenuButton || !menuItems ) return\n\n    const exitActions = [ 'mouseout', 'focusout' ]\n\n    // Toggle the menu on button click\n    mobileMenuButton.addEventListener( 'click', ( event ) => {\n\n        event.preventDefault()\n\n        if ( isTransitioning ) return\n\n        if ( mobileMenuButton.getAttribute('aria-expanded') === 'true' ) {\n            hideMobileMenu()\n        } else {\n            displayMobileMenu()\n        }\n\n        isTransitioning = false\n\n    })\n\n    // If user hits the escape key, close the menu\n    document.addEventListener( 'keydown', ( event ) => {\n        if ( event.key === 'Escape' ) {\n            hideMobileMenu()\n        }\n    } )\n\n    // If focus leaves the menu, close the menu\n    if ( !devMode && siteNav ) {\n        siteNav.addEventListener( 'focusout', ( event ) => {\n            if ( !siteNav.contains( event.relatedTarget ) ) {\n                hideMobileMenu()\n            }\n        } )\n    }\n\n    // Setup desktop submenu behavior for hover and focus\n    menuItems.forEach( item => {\n\n        let timer = null\n        const a = item.querySelector( 'a' )\n\n        // On wide screens, show submenu on hover\n        item.addEventListener( 'mouseover', event => {\n            if ( item.contains( event.relatedTarget ) ) return\n            showDesktopSubmenu( item, timer )\n        } )\n\n        // On wide screens, show submenu on focus\n        a.addEventListener( 'focus', () => {\n            showDesktopSubmenu( item, timer )\n        } )\n\n        // On wide screens, hide menu on mouse out and focus out\n        exitActions.forEach( action => {\n            item.addEventListener( action, event => {\n\n                if ( item.contains( event.relatedTarget ) ) return\n\n                if ( window.innerWidth >= breakpoint ) {\n                    timer = setTimeout( () => {\n                        hideDesktopSubmenu( item )\n                    }, 500 )\n                }\n\n            } )\n        } )\n\n    } )\n\n    const mobileSubmenuButtons = document.querySelectorAll( '.mobile-submenu-button' )\n\n    // Setup mobile submenu expanding\n    if ( mobileSubmenuButtons ) {\n        mobileSubmenuButtons.forEach( button => {\n\n            const menuId = button.getAttribute( 'aria-controls' )\n            const menu = document.getElementById( menuId )\n\n            button.addEventListener( 'click', event => {\n\n                event.preventDefault()\n\n                if ( isTransitioning ) return\n\n                isTransitioning = true\n\n                if ( button.getAttribute('aria-expanded') === 'false' ) {\n                    button.setAttribute( 'aria-expanded', 'true' )\n                    button.previousSibling.setAttribute( 'aria-expanded', 'true' )\n                    menu.style.display = 'block'\n                    setTimeout( () => {\n                        menu.style.maxHeight = menu.scrollHeight + \"px\"\n                    }, 5 )\n                } else {\n                    button.setAttribute( 'aria-expanded', 'false' )\n                    button.previousSibling.setAttribute( 'aria-expanded', 'false' )\n                    menu.style.maxHeight = 0 + \"px\"\n                    setTimeout( () => {\n                        menu.removeAttribute( 'style' )\n                    }, 250 )\n                }\n\n                setTimeout( () => {\n                    isTransitioning = false\n                }, 250)\n\n            } )\n        } )\n    }\n\n}\n\n\nconst api = {\n    init: init\n}\n\nexport default api;\n","import { default as scroll } from \"./modules/_scroll\"\nimport { default as siteHeader } from \"./modules/_site-header\"\n\n(() => {\n\n    siteHeader.init()\n    scroll.init()\n\n})();"],"mappings":"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"}