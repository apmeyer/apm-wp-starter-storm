!function(){"use strict";let e=window.requestAnimationFrame;const t=document.querySelectorAll(".animate"),n="animated",i=function(){r(),a(),o(),e(i)},o=function(){t.forEach((e=>{if(s(e)){if(e.classList.contains(n))return;e.classList.add(n)}}))},s=function(e){const t=e.getBoundingClientRect();return t.top<=0&&t.bottom>=0||t.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&t.top<=(window.innerHeight||document.documentElement.clientHeight)||t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},r=function(){window.scrollY<=0?document.body.classList.add("is-at-top"):document.body.classList.remove("is-at-top")},a=function(){window.scrollY>=300?document.body.classList.add("is-compressed"):document.body.classList.remove("is-compressed")},u=function(){t.forEach((e=>{e.classList.add(n)}))},c=function(){window.requestAnimationFrame?i():u()},d=document.getElementById("mobileMenuButton"),l=document.getElementById("mobileMenuWrap");document.getElementById("siteNav");const m=document.querySelectorAll(".main-menu li.menu-item-has-children"),b=950;let f=!1;const p=function(){const e=document.querySelectorAll(".sub-menu");window.innerWidth>=b?e.forEach((e=>{e.removeAttribute("style")})):e.forEach((e=>{e.style.maxHeight=e.scrollHeight+"px"}))},h=function(){l.classList.remove("transition-in"),d.setAttribute("aria-expanded","false"),setTimeout((()=>{l.classList.remove("is-block")}),250)},y=function(){m.forEach((e=>{const t=e.getAttribute("id"),n=e.querySelector("a"),i=e.querySelector(".sub-menu"),o=t+"_submenu";n.setAttribute("aria-expanded","false"),i.setAttribute("id",o);const s=document.createElement("button");s.setAttribute("aria-controls",o),s.setAttribute("aria-expanded","false"),s.setAttribute("class","mobile-submenu-button"),n.after(s)}))},g=function(e,t){window.innerWidth>=b&&(clearTimeout(t),window.innerWidth>=b&&m.forEach((e=>{e.classList.remove("is-ready-to-transition"),e.querySelector("a").setAttribute("aria-expanded","false")})),e.querySelector("a").setAttribute("aria-expanded","true"))},w=function(){if(!d||!m)return;const e=["mouseout","focusout"];d.addEventListener("click",(e=>{e.preventDefault(),f||("true"===d.getAttribute("aria-expanded")?h():(l.classList.add("is-block"),d.setAttribute("aria-expanded","true"),setTimeout((()=>{l.classList.add("transition-in")}),5)),f=!1)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&h()})),m.forEach((t=>{let n=null;const i=t.querySelector("a");t.addEventListener("mouseover",(e=>{t.contains(e.relatedTarget)||g(t,n)})),i.addEventListener("focus",(()=>{g(t,n)})),e.forEach((e=>{t.addEventListener(e,(e=>{t.contains(e.relatedTarget)||window.innerWidth>=b&&(n=setTimeout((()=>{!function(e){e.querySelector("a").setAttribute("aria-expanded","false")}(t)}),500))}))}))}));const t=document.querySelectorAll(".mobile-submenu-button");t&&t.forEach((e=>{const t=e.getAttribute("aria-controls"),n=document.getElementById(t);e.addEventListener("click",(t=>{t.preventDefault(),f||(f=!0,"false"===e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","true"),e.previousSibling.setAttribute("aria-expanded","true"),n.classList.add("is-mobile-visible"),setTimeout((()=>{n.style.maxHeight=n.scrollHeight+"px"}),5)):(e.setAttribute("aria-expanded","false"),e.previousSibling.setAttribute("aria-expanded","false"),n.style.maxHeight="0px",setTimeout((()=>{n.classList.remove("is-mobile-visible")}),250)),setTimeout((()=>{f=!1}),250))}))}))};(function(){d&&l&&(y(),w());new ResizeObserver(p).observe(document.querySelector(".site-header-wrap"))})(),c()}();
//# sourceMappingURL=theme.min.js.map